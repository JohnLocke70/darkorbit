<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Centre d'infos Darkorbit par JohnLocke</title>

  <!-- IMPORTANT : incrémente ?v= quand tu modifies le CSS pour casser le cache -->
  <link rel="stylesheet" href="assets/site.css?v=18">
</head>

<body>
  <!-- HEADER FIXE -->
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <img class="brand-logo" src="assets/darkorbit-logo.png" alt="DarkOrbit">
        <h1 class="brand-title">Centre d'infos Darkorbit par JohnLocke</h1>
      </div>

      <nav class="top-nav" aria-label="Navigation principale">
        <a class="nav-btn" href="astuces-guides.html">Astuces &amp; Guides</a>
        <a class="nav-btn" href="glossaire-technique.html">Glossaire &amp; Technique</a>
        <a class="nav-btn" href="calculatrice.html">Calculatrice Multifonction</a>
      </nav>
    </div>
  </header>

  <!-- ZONE DE TRAVAIL (SCROLL ICI UNIQUEMENT) -->
  <main class="work" id="top">
    <section class="panel">
      <h2>Bienvenue</h2>
      <p class="small">
        Zone de travail. Ici tu mettras le contenu des pages.
        Le header et le footer restent fixes, et le scroll se fait uniquement ici.
      </p>
    </section>
  </main>

  <!-- FOOTER FIXE -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-links">
        <span class="id">
          <img class="avatar" src="assets/johnlocke-avatar.jpg" alt="Avatar JohnLocke">
          <span class="copy">© 2026 <strong>JohnLocke</strong></span>
        </span>

        <span class="sep">|</span>
        <a href="a-propos.html">À propos</a>

        <span class="sep">|</span>
        <!-- le texte affiché reste “Email”, pas ton adresse -->
        <a href="mailto:John.Locke.70@outlook.fr">Email</a>

        <span class="sep">|</span>
        <a href="commentaires.html">Commentaires</a>

        <span class="sep">|</span>
        <a href="cgu.html">CGU</a>
      </div>

      <button class="to-top" type="button" aria-label="Haut de page" title="Haut de page">↑</button>
    </div>
  </footer>

  <script>
    (function () {
      const work = document.querySelector('.work');
      const topBtn = document.querySelector('.to-top');
      if (topBtn && work) {
        topBtn.addEventListener('click', () => {
          work.scrollTo({ top: 0, behavior: 'smooth' });
        });
      }

      function equalizeNavButtons() {
        const btns = Array.from(document.querySelectorAll('.top-nav .nav-btn'));
        if (!btns.length) return;

        // reset (important avant mesure)
        btns.forEach(b => b.style.width = 'auto');

        // mesure max
        const max = Math.ceil(Math.max(...btns.map(b => b.getBoundingClientRect().width)));

        // applique
        btns.forEach(b => b.style.width = max + 'px');
      }

      // Attend les polices si dispo, sinon calc direct
      if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(equalizeNavButtons);
      } else {
        window.addEventListener('load', equalizeNavButtons);
      }

      // recalcul au resize (debounce)
      let t = null;
      window.addEventListener('resize', () => {
        clearTimeout(t);
        t = setTimeout(equalizeNavButtons, 120);
      });

      // 1er calcul immédiat (utile quand Pages répond vite)
      equalizeNavButtons();
    })();
  </script>
</body>
</html>
